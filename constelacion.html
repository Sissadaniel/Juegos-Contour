<!DOCTYPE html><!--  Last Published: Thu Aug 03 2023 00:40:37 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="62df35f1a6f674476bc2f537" data-wf-site="62df2718544276fc1f29bbb0" lang="es">
<head>
  <meta charset="utf-8">
  <title>Constelación smartLIGHT</title>
  <meta content="Constelación smartLIGHT" property="og:title">
  <meta content="Constelación smartLIGHT" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/juegos-contour.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic","Inconsolata:400,700"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.png" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon"><!--  Hotjar Tracking Code for https://promociones.tiendacontour.com.mx/  -->
  <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:3166174,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
  <!-- <script src="https://raw.githubusercontent.com/shinnn/AudioContext-Polyfill/master/audiocontext-polyfill.js"></script> -->
  <script src="https://kit.fontawesome.com/016ac6da69.js" crossorigin="anonymous"></script>
</head>
<body class="body cpe">
  <div class="alerta_pantalla">
    <div id="w-node-_3ad5852f-9152-e416-8056-8805fe2bd819-6bc2f537" class="cal-vh w-embed w-script">
      <script>
// We listen to the resize event
window.addEventListener('resize', () => {
  // We execute the same script as before
  let vh = window.innerHeight * 0.01;
  document.documentElement.style.setProperty('--vh', `${vh}px`);
});
</script>
      <style>
.body, .alerta.pantalla {
  height: 100vh; /* Fallback for browsers that do not support Custom Properties */
  height: calc(var(--vh, 1vh) * 100);
}
</style>
    </div>
    <div class="div-block-46">
      <div class="lottie-animation-4" data-w-id="3ad5852f-9152-e416-8056-8805fe2bd81b" data-animation-type="lottie" data-src="documents/40634-rotate-phone.json" data-loop="1" data-direction="1" data-autoplay="1" data-is-ix2-target="0" data-renderer="svg" data-default-duration="2.7" data-duration="0"></div>
      <div>Tu pantalla es muy pequeña para jugar, te sugerimos cambiar la orientación de tu dispositivo.</div>
    </div>
    <div class="w-embed">
      <style>
@media screen and (min-height: 415px) and (min-width:300px){
.alerta_pantalla{
display:none;
}
}
</style>
    </div>
  </div>
  <div id="initial-popup" class="popup form conte">
    <div class="popup-content-wrapper---brix popup-1-content-wrapper---brix-copy">
      <div class="popup-1---brix grid">
        <div id="w-node-a39f7e6a-a745-83ec-2309-2ed9c56eed51-6bc2f537">
          <h2 id="popup_head" class="heading-3">¡Bienvenido!</h2>
          <p id="popup_content" class="paragraph-73">¿Cuántos pasos puedes recordar? Descúbrelo jugando con la Constelación smartLIGHT<sup>®</sup> de CONTOUR<sup>®</sup>PLUS ELITE y gana increíbles premios.</p>
        </div>
        <div class="div-block-19"><img src="images/Copia-de-Contour_Plus_Elite_93mgdl---with-strip---Bsample---no-shadow.png" loading="lazy" sizes="(max-width: 767px) 100vw, 396.015625px" srcset="images/Copia-de-Contour_Plus_Elite_93mgdl---with-strip---Bsample---no-shadow-p-500.png 500w, images/Copia-de-Contour_Plus_Elite_93mgdl---with-strip---Bsample---no-shadow-p-800.png 800w, images/Copia-de-Contour_Plus_Elite_93mgdl---with-strip---Bsample---no-shadow.png 830w" alt="" class="image-11"></div>
        <div id="popup_form" class="div-block-18">
          <div class="form-block w-form">
            <form id="email-form" name="email-form" data-name="Email Form" method="get" class="form" data-wf-page-id="62df35f1a6f674476bc2f537" data-wf-element-id="131cf057-b592-30a1-3cd1-da796567d176">
              <div class="div-block-33"><select id="field" name="field" data-name="Field" class="select-field hidden w-select">
                  <option value="">Farmacia 1</option>
                  <option value="First">Farmacia 2</option>
                  <option value="Second">Farmacia 3</option>
                  <option value="Third">Farmacia 4</option>
                </select><input type="email" class="text-field w-input" maxlength="256" name="email" data-name="Email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" placeholder="Introduce tu correo electrónico" id="form_email_field" required=""><input type="text" class="text-field w-input" maxlength="256" name="Nombre" data-name="Nombre" placeholder="Introduce tu nombre" id="form_name_field" required=""><input type="tel" class="text-field w-input" maxlength="256" name="Phone" data-name="Phone" placeholder="Introduce tu teléfono" id="form_phone_field" required=""></div>
              <div id="form_send_btn" class="text-block-7">Comenzar juego</div>
            </form>
            <div class="w-form-done">
              <div>Thank you! Your submission has been received!</div>
            </div>
            <div class="w-form-fail">
              <div>Oops! Something went wrong while submitting the form.</div>
            </div>
          </div>
        </div><img src="images/close-icon-popups-webflow-cloneable-template-brix-templates.svg" data-w-id="131cf057-b592-30a1-3cd1-da796567d185" width="16" height="16" alt="" class="close-popup---brix">
      </div>
    </div>
    <div class="overlay---brix"></div>
  </div>
  <div style="display:none" class="popup instructions">
    <div class="popup-content-wrapper---brix popup-1-content-wrapper---brix-copy-instrucciones">
      <div class="popup-1---brix instructions">
        <div class="div-block-19"></div>
        <div class="div-block-47">
          <div class="light bold">Instrucciones</div>
          <div class="div-block-40 center">
            <div class="light">1. Selecciona</div><img src="images/Mask-Group-82.png" loading="lazy" alt="" class="image-10">
          </div>
          <div class="light top">2. Sigue el patrón de la luz del glucómetro replicándolo en las estrellas de la constelación</div>
          <div class="touch instruct">
            <div class="lottie-animation-2" data-w-id="6d6b533c-cb7d-f495-90db-32ea6bd86f93" data-animation-type="lottie" data-src="documents/109431-touch.json" data-loop="1" data-direction="1" data-autoplay="1" data-is-ix2-target="0" data-renderer="svg" data-default-duration="1.4166666666666667" data-duration="0"></div>
          </div>
          <div class="light top">3. Tienes 3 intentos de práctica, a partir del cuarto podrás ganar descuentos. ¿Estás listo?</div>
          <div id="reply" class="key_info"></div>
        </div><img src="images/close-icon-popups-webflow-cloneable-template-brix-templates.svg" height="16" width="16" alt="" class="close-popup---brix">
      </div>
    </div>
    <div data-w-id="1eec687f-53cf-2d6d-4c2f-3face4384968" class="overlay---brix"></div>
  </div>
  <div class="div-block-28">
    <a id="w-node-cbe8dcf9-e182-e480-2a67-321bb80ec68e-6bc2f537" href="https://tiendacontour.com.mx/tc-constelacion-contourplus-elite/" target="_blank" class="link-block w-inline-block">
      <div>Términos y Condiciones</div>
    </a>
    <a id="w-node-cbe8dcf9-e182-e480-2a67-321bb80ec691-6bc2f537" href="https://tiendacontour.com.mx/aviso-de-privacidad/" target="_blank" class="link-block w-inline-block">
      <div>Aviso de privacidad</div>
    </a>
  </div>
  <div class="wrapper">
    <div id="main_section" class="section cpe">
      <div data-w-id="75126c0b-cd95-bd3f-da81-95a601a4703a" class="div-block-51">
        <div>Instrucciones</div>
      </div>
      <div id="w-node-_01d469e5-57b2-4a49-8874-5648bcb812e5-6bc2f537" class="div-block-30 left">
        <div class="div-block-38">
          <div class="div-block-47 hidden">
            <div class="light bold">Instrucciones</div>
            <div class="div-block-40">
              <div class="light">1. Selecciona</div><img src="images/Mask-Group-82.png" loading="lazy" alt="" class="image-10">
            </div>
            <div class="light top">2. Sigue el patrón de la luz del glucómetro replicándolo en las estrellas de la constelación</div>
            <div class="touch instruct">
              <div class="lottie-animation-2" data-w-id="c666e021-0a80-0aeb-9128-88154bf4e916" data-animation-type="lottie" data-src="documents/109431-touch.json" data-loop="1" data-direction="1" data-autoplay="1" data-is-ix2-target="0" data-renderer="svg" data-default-duration="1.4166666666666667" data-duration="0"></div>
            </div>
            <div class="light top">3. Tienes 3 intentos de práctica, a partir del cuarto podrás ganar descuentos. ¿Estás listo?</div>
            <div id="reply" class="key_info"></div>
          </div>
        </div>
      </div>
      <div id="w-node-_3bde6355-baa0-d93d-b44c-232e0717dbd0-6bc2f537" class="div-block-20">
        <div class="div-block-41">
          <div class="simon_markup w-embed">
            <div class="simon">
              <img src="images/Con-stellation-CMYK-p-1080.png">
              <div class="buttons">
                <div class="touch green"><button class="simon-button simon-1" id="0"> </button> </div>
                <div class="touch yellow"> <button class="simon-button simon-2" id="1"> </button> </div>
                <div class="touch red"> <button class="simon-button simon-3" id="2"> </button> </div>
                <!-- <button class="simon-button simon-4" id="3"></button> -->
                <!-- 
    <div class="display">
      <p>
        <span id="play"><i class="fa fa-circle-o"></i></span>
        <a href="#" id="link-reset">
          <span class="score" id="score">00</span>
          <i class="fa fa-refresh"></i><br>
        </a>
        <a href="#" id="link-strict">
          <span class="strict-icon" id="strict">
            <i class="fa fa-times"></i>
          </span>
          <span class="strict">
            STRICT
          </span>
        </a>
      </p>
    </div>
     -->
              </div>
            </div>
            <style>
/*
html {
  background: #000428;
  background: -webkit-linear-gradient(-45deg, #004e92, #000428);
  background: linear-gradient(135deg, #004e92, #000428);
  height: 100%;
  font-size: 0;
}
* {
  box-sizing: border-box;
}*/
.simon img {
	width: 100%;
}
.buttons {
  position: absolute;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
}
.display {
  position: absolute;
  right: 0;
  border-radius: 50%;
  border: 3px solid #111;
  border-bottom: 3px solid #fff;
  width: 70px;
  height: 70px;
  background: #222;
  background: radial-gradient(ellipse at center, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) 60%, #777777 80%), linear-gradient(45deg, #000 0%, #111 50%, #080808 60%, #333 50%, #000 100%);
  color: #fff;
  font-size: 1em;
  text-align: center;
  overflow: hidden;
  -webkit-box-shadow: 2px 2px 10px 0 rgba(0, 0, 0, 0.5);
  -moz-box-shadow: 2px 2px 10px 0 rgba(0, 0, 0, 0.5);
  box-shadow: 2px 2px 10px 0 rgba(0, 0, 0, 0.5);
  text-shadow: 0 0 2px #fff;
}
a {
  text-decoration: none;
}
.score {
  font-size: 2.5em;
}
.score i {
  font-size: 0.65em;
}
.strict-icon {
  position: relative;
  font-size: 0.8em;
}
.strict {
  margin-bottom: 5px;
  padding: 3px 5px;
  border-radius: 5px;
  background: #fff;
  color: #111;
  font-size: 0.4em;
  -webkit-box-shadow: 0 0 2px 0 #fff;
  -moz-box-shadow: 0 0 2px 0 #fff;
  box-shadow: 0 0 2px 0 #fff;
}
.simon-button:focus {
  outline: none;
}
button{
background:transparent;
}
/*.simon-3 {
  bottom: 0;
  right: 0;
  background: #1cb5e0;
}
.simon-4 {
	top: 17%;
	left: 46%;
  background: #ffc371;
}*/
/* Erase me I dare ya
@media (orientation: portrait) {
  .simon {
    margin: calc(50vh - 40vw) auto 0;
    width: 80vw;
    height: 80vw;
  }
}
*/
@media (min-width: 480px) {
  .display {
    font-size: 0.5em;
  }
  .strict-icon {
    top: 3px;
  }
}
.touch{
    pointer-events: none;
}
.simon-button{
    pointer-events: auto;
}
.hue_light{
    mix-blend-mode: hue;
}
</style>
          </div>
        </div>
        <div class="div-block-36">
          <a id="link-reset" href="#" class="button_reset margin w-button">OK</a><img src="images/Contour_Plus_Elite_93mgdl_-_with_strip_-_NoBsample_-_no_shadow-removebg-preview.png" loading="lazy" alt="" class="gluco">
          <div class="strict_container">
            <a href="#" id="link-strict" class="button_strict w-node-a661fc9a-13e8-5bcf-426d-eb26e3f5ad56-6bc2f537 w-button">Strict</a>
          </div>
          <div class="hue_light"></div>
          <div class="div-block-37">
            <div class="div-block-43">
              <div id="play" class="show_turn w-embed"><i class="fa-solid fa-toggle-off"></i> Selecciona el botón OK para comenzar</div>
            </div>
            <div id="strict" class="show_strict w-embed"><i class="fa-solid fa-bell"></i> ¿Listo para jugar?</div>
            <div id="text_strict" class="text-block-4">Estas jugando el juego de práctica, tienes muchas oportunidades</div>
            <div id="text_nostrict" class="text-block-4">Juego real, solo tienes una vida</div>
            <div class="div-block-50">
              <div class="text-block-6">Secuencia actual</div>
              <div id="score">00</div>
            </div>
          </div>
        </div>
        <div class="simon-button"></div>
      </div>
      <div id="w-node-_8343a3f7-6239-c14f-abe3-7e78437d9151-6bc2f537" class="scoreboard"><img src="images/Screenshot_2022-08-15_at_19.49.38-removebg-preview.png" loading="lazy" id="w-node-_73975ead-a995-b08c-efaf-82bcbc15b476-6bc2f537" sizes="(max-width: 767px) 100vw, (max-width: 991px) 100px, 109.99999237060547px" srcset="images/Screenshot_2022-08-15_at_19.49.38-removebg-preview-p-500.png 500w, images/Screenshot_2022-08-15_at_19.49.38-removebg-preview.png 688w" alt="" class="image-6">
        <div class="div-block-27 mob_hidden">
          <div class="div-block-34">
            <div class="div-block-26">
              <div id="percentage" class="text-block-2">0%</div>
            </div>
            <div id="graph" data-percent="0" class="chart hidden"></div>
            <div class="chartscript w-embed w-script">
              <script>
var el = document.getElementById('graph'); // get canvas
var options = {
    percent:  el.getAttribute('data-percent') || 25,
    size: el.getAttribute('data-size') || 100,
    lineWidth: el.getAttribute('data-line') || 15,
    rotate: el.getAttribute('data-rotate') || 0
}
var canvas = document.createElement('canvas');
var span = document.createElement('span');
span.textContent = options.percent + '%';
if (typeof(G_vmlCanvasManager) !== 'undefined') {
    G_vmlCanvasManager.initElement(canvas);
}
var ctx = canvas.getContext('2d');
canvas.width = canvas.height = options.size;
/*el.appendChild(span);*/
el.appendChild(canvas);
ctx.translate(options.size / 2, options.size / 2); // change center
ctx.rotate((-1 / 2 + options.rotate / 180) * Math.PI); // rotate -90 deg
//imd = ctx.getImageData(0, 0, 240, 240);
var radius = (options.size - options.lineWidth) / 2;
var drawCircle = function(color, lineWidth, percent) {
		percent = Math.min(Math.max(0, percent || 1), 1);
		ctx.beginPath();
		ctx.arc(0, 0, radius, 0, Math.PI * 2 * percent, false);
		ctx.strokeStyle = color;
		ctx.lineCap = 'round'; // butt, round or square
		ctx.lineWidth = lineWidth
		ctx.stroke();
};
/*drawCircle('#efefef', options.lineWidth, 100 / 100);
drawCircle('#555555', options.lineWidth, options.percent / 100);*/
</script>
              <style>
  .chart.glow {
		filter: drop-shadow(2px 4px 6px white);
  }
</style>
            </div>
          </div>
          <div class="text-block">Completado</div>
        </div>
        <div id="w-node-_8343a3f7-6239-c14f-abe3-7e78437d915e-6bc2f537" class="div-block-27">
          <div class="div-block-26">
            <div id="discount" class="text-block-2">0%</div>
          </div>
          <div class="text-block">Descuento acumulado</div>
        </div>
      </div>
      <div id="w-node-_14ddeafe-eb5c-e3f7-10be-8df9c88ab13e-6bc2f537" class="messages_script w-embed w-script">
        <script>
  const answers = [
    '',
    '1. A través de los indicadores de colores que indican el rango de tu glucosa en sangre podrás entender fácilmente tus resultados.',
    '2. La luz guía de CONTOUR®PLUS ELITE te ayuda a mejorar tu seguridad y confianza al momento de tomar decisiones de acuerdo con los resultados de tu automonitoreo.',
    '3. La Segunda-Oportunidad®de Muestra de CONTOUR®PLUS ELITE es la única tecnología que te ayuda a ahorrar tiras reactivas y a evitar la frustración de volver a pincharte.',
    '4. El sistema CONTOUR®PLUS ELITE tiene una pantalla con conteo regresivo de 60 segundos que te permite aplicar más sangre en la misma tira cuando la primera muestra no fue suficiente.',
    '5. La sencillez del sistema de 3 pasos de CONTOUR®PLUS ELITE es tu luz guía en el control de la diabetes: a.Inserta la tira reactiva CONTOUR®PLUS.b.Aplica sangre.c.Obtén tu resultado.',
    '6. Tu glucómetro CONTOUR®PLUS ELITE cuenta con botones grandes fáciles de usar, no necesita configuración inicial y está listo para usarse en cuanto lo sacas de la caja.',
    '7. Tu luz guía te conecta con la tecnología de la app CONTOUR®DIABETES para que registres, entiendas y compartas tus resultados sin complicaciones.',
    '8. La aplicación CONTOUR®DIABETES te apoya en el auto-control de tu glucosa en sangre.',
    '9. CONTOUR®DIABETES cuenta con funciones que facilitan la lectura y comprensión de tus resultados.',
    '10. Hasta el momento, el 98% de los usuarios de CONTOUR®DIABETES ha podido interpretar sus resultados de glucosa en sangre a través de esta luz guía.',
    '11. Tu luz guía en el auto-control mejorará el control de tu glucosa en sangre y reducirá el riesgo de un evento hipoglucémico de manera significativa.',
    '12. El sistema CONTOUR®PLUS ELITE ha demostrado ir más allá de los requerimientos mínimos de precisión del estándar ISO 15197:2015.',
    '13. ¿Sabías que el 79.4% de los profesionales de la salud consideran que la luz de colores es el mejor método para mostrar si un resultado de glucosa en sangre está por debajo, dentro o por arriba del rango meta?',
    '14. La app CONTOUR®DIABETES ha sido descargada 1.2 millones de veces.',
    '15. El 100% de los usuarios de CONTOUR®DIABETES accedieron con éxito a las visualizaciones y los resultados de glucosa en sangre.',
    'Completaste todos los niveles, ¡Increíble! No fue nada fácil, pero has ganado un descuento ¡del 30%!'
  ];
	const node = document.getElementById("reply")
  // Adiaphora/pen/gOeQevv
  function gen(message) {
    i = 0
    txt = message
    block()
    node.innerHTML = ''
    typeWriter()
  }
  function typeWriter() {
    if (i < txt.length) {
      node.innerHTML += txt.charAt(i)
      i++
      setTimeout(typeWriter, getDelay(speed))
    } else {
      deblock()
    }
  }
  function block() {
    printing = true
    //q.contentEditable = false
  }
  function deblock() {
    printing = false
    //q.contentEditable = true
  }
  function getDelay(speed) {
    return (speed / 2) + randi(speed)
  }
  function randi(x) {
    return Math.round(Math.random() * x)
  }
</script>
      </div>
      <div id="w-node-_55c46bb6-4297-a9d3-3634-0c212492b094-6bc2f537" class="simon_script w-embed w-script">
        <script>
let i = 0;
let txt = '';
const speed = 1;
let earned_discount = 0;
let printing = false;
const message_practice = 'Juego de práctica <i class="fa-solid fa-mug-hot"></i>';
const queryString = window.location.search;
const urlParams = new URLSearchParams(queryString);
const onSite = urlParams.get('onsite') ? true : false;
const fromHome = urlParams.get('fromhome') ? true : false;
var buttons = document.getElementsByClassName('simon-button'),
	buttons_div = document.querySelector('.buttons'),
  contour_light = document.querySelector('.hue_light'),
  strict = document.getElementById('link-strict'),
  strictIcon = document.getElementById('strict'),
  reset = document.getElementById('link-reset'),
  form_name_field = document.getElementById('form_name_field'),
  form_email_field = document.getElementById('form_email_field'),
  form_phone_field = document.getElementById('form_phone_field'),
  form_send_btn = document.getElementById('form_send_btn'),
  steps = document.getElementById('score'),
  /*steps_b = document.getElementById('score_b'),*/
	percentage = document.getElementById('percentage'),
 	discount = document.getElementById('discount'),
  play = document.getElementById('play'),
  popup = document.getElementById('initial-popup'),
  popup_head = document.getElementById('popup_head'),
  popup_content = document.getElementById('popup_content'),
  popup_form = document.getElementById('popup_form'),
  canvas = document.querySelector('canvas'),
  chart = document.getElementsByClassName('chart'),
  main_section = document.getElementById('main_section'),
  isStrict = false,
  audio = [],
  round,
  game,
  level_coupon = 0;
const images_coupon = [
	"https://dl.dropbox.com/s/4i6i30yx7lelcyp/descuento10.png",
  "https://dl.dropbox.com/s/vo6exdquazm31uk/descuento15.png",
  "https://dl.dropbox.com/s/w3m1nmvphg5ormg/descuento20.png"
]
function showPopup(discount, steps) {
	let url_webhook = `https://hook.us1.make.com/2mu2znihpwndzw9ncf93vwuvhlhju5mn?did_play=1&discount=${discount}&steps=${steps}&email=${form_email_field.value}&name=${form_name_field.value}&phone=${form_phone_field.value}&onsite=${onSite}&fromhome=${fromHome}`;
  let markup_fromHome = fromHome ?
    `<h3>Con tu puntuación has ganado un descuento de:</h3>
     <img src=${images_coupon[level_coupon]}/>`
    :
    `<h3>Lograste completar ${steps} secuencias de 16.`;
  let button_fromHome = fromHome ? `<a style="margin:0 auto" href="${url_webhook}" onclick="parentNode.remove()" class="w-button">Redimir cupón</a>` : "<br>";
  popup_form.innerHTML = `
    <div style="color:white">
   		<h1>Gracias por participar</h1>
      ${markup_fromHome}
			<br><h2>¡Felicidades!</h2>
    </div>
    ${button_fromHome}
	`;
  popup_head.style.display = 'none';
  popup_content.style.display = 'none';
  popup.style.display = 'flex';
  if (!fromHome) {
  	fetch(url_webhook)
      .then((response) => response.json())
      .then((data) => console.log(data));
  }
}
function sendForm() {
	if (form_name_field.value && form_email_field.value && form_phone_field.value) {
  	popup.style.display = 'none';
	}
  return false;
}
/* FOR VANILLA JS
audio[0] = new Audio('https://s3.amazonaws.com/freecodecamp/simonSound1.mp3');
audio[1] = new Audio('https://s3.amazonaws.com/freecodecamp/simonSound2.mp3');
audio[2] = new Audio('https://s3.amazonaws.com/freecodecamp/simonSound3.mp3');
audio[3] = new Audio('https://s3.amazonaws.com/freecodecamp/simonSound4.mp3');*/
/* WITH HOWLER.JS 
Reason for using Howler.Js: Audio object doesn't play sound well if same button clicked simultaneously. */
audio[0] = new Howl({src: ['https://dl.dropbox.com/s/ncv2mkuh1vyx0i0/simonSound1.mp3']});
audio[1] = new Howl({src: ['https://dl.dropbox.com/s/689e19xpdi9vcd5/simonSound2.mp3']});
audio[2] = new Howl({src: ['https://dl.dropbox.com/s/0l23dgqx0mdlbj4/simonSound3.mp3']});
audio[3] = new Howl({src: ['https://dl.dropbox.com/s/lodw0fla9dq4vba/simonSound4.mp3']});
audio_strict = new Howl({src: ['https://dl.dropbox.com/s/tk2vt419ql13zwf/3D%20Space%20Cadet%20Pinball%20Start-up%20Sound.mp3']});
for (var button = 0; button < buttons.length; button++) {
  buttons[button].style.opacity = 0.2;
}
function Game() {
  this.playerTurn = false;
  this.pattern = [];
  this.steps = 1;
}
const context = canvas.getContext('2d');
function newGame() {
  game = new Game();
  context.clearRect(0, 0, canvas.width, canvas.height);
  steps.innerHTML = /*steps_b.innerHTML =*/ "01";
  strictIcon.innerHTML = message_practice;
  percentage.innerHTML = "0%";
  //setTimeout(fadeIntro, 250);
  setTimeout(newRound, 500);
}
function Round() {
  game.pattern.push(Math.floor(Math.random() * 3));
  this.patternLength = game.steps;
  this.pattern = game.pattern;
  this.playerPattern = [];
  this.counter = 0;
  this.speed = 1200 - this.patternLength * 20;
}
function newRound() {
  round = new Round();
  showPattern();
  console.log(round.pattern); // HINT
}
function showPattern() {
  game.playerTurn = false;
  play.innerHTML = '<i class="fa-solid fa-brain"></i> Memoriza la secuencia';
  for (var x = 0; x < round.patternLength; x++) {
    setTimeout(buttonGlow.bind(null, round.pattern[x],500), round.speed * x);
  }
  gen(answers[round.patternLength - 1]);
  setTimeout(function() {
   	contour_light.style.backgroundColor = "black";
    game.playerTurn = true;
    strict.style.transform = isStrict ? "translateY(-132px) rotate(270deg)" : "translateY(0px)";
    play.innerHTML = '<i class="fa-solid fa-hand-point-up"></i> Ahora te toca repetirla';
  }, round.speed * round.patternLength);
}
function buttonClick(button) {
  if (game.playerTurn) {
		strict.style.transform = isStrict ? "translateY(-132px) rotate(270deg)" : "translateY(500px)";
    var buttonIndex = button.target.id;
    round.playerPattern.push(parseInt(buttonIndex));
    buttonGlow(button);
    check();
  }
}
function check() {
  if (round.playerPattern[round.counter] === round.pattern[round.counter]) {
    round.counter++;
    if (round.counter === round.patternLength) {
      game.playerTurn = false;
      game.steps++;
      const percentage_completed = Math.round((game.steps - 1) * 6.66666666667);
      drawCircle("#fff", 3, percentage_completed / 100);
      percentage.innerText = percentage_completed + "%";
      if (game.steps === 4) {
      	earned_discount = 10;
        discount.innerText = earned_discount + "%";
      	/*strict.style.transform =  "translateY(-132px) rotate(270deg)" : "translateY(0px)";
      	strictIcon.innerHTML = 'Secuencias de prueba completadas, ya no te puedes equivocar <i class="fa-solid fa-eye"></i>';*/
        audio_strict.play();
        toggleStrict();
        chart[0].classList.add("glow");
        //setTimeout(toggleStrict(), 5000);
        setTimeout(newRound, 5000);
        return;
			}
      if (game.steps === 10) {
      	earned_discount = 15;
        level_coupon++;
				discount.innerText = earned_discount + "%";
			}
      if (game.steps === 13) {
      	earned_discount = 20;
        level_coupon++;
        discount.innerText = earned_discount + "%";
			}
      if (game.steps === 16) {
      	/*gen(answers[round.patternLength]);*/
        steps.innerHTML = /*steps_b.innerHTML = */'<i class="fa fa-trophy"></i>';
        //setTimeout(newGame, 4000);
        setTimeout(showPopup(earned_discount, game.steps), 2000);
      } else {
        steps.innerHTML = /*steps_b.innerHTML = */game.steps < 10 ? "0" + game.steps : game.steps;
        setTimeout(newRound, 1500);
      }
    }
  } else if (isStrict) {
    steps.innerHTML = '<i class="fa fa-exclamation-triangle"></i>';
    setTimeout(showPopup(earned_discount, game.steps), 2000);
  } else {
    game.playerTurn = false;
    round.counter = 0;
    round.playerPattern = [];
    steps.innerHTML = '<i class="fa fa-exclamation-circle"></i>';
    setTimeout(function() {
      steps.innerHTML = game.steps < 10 ? "0" + game.steps : game.steps;
      showPattern();
    }, 1500);
  }
}
function buttonGlow(button, delay, fadeSpeed) {
  var pressed = button.target === undefined ? button : button.target.id;
  buttons[pressed].style.opacity = 1;
  const colors = ["rgb(51, 149, 130)","rgb(224, 168, 47)","rgb(193, 74, 85)"];
  if (game.playerTurn == false) contour_light.style.backgroundColor = colors[pressed];
  audio[pressed].play();
  setTimeout(
    fade.bind(null, pressed, fadeSpeed !== undefined ? fadeSpeed : 100),
    delay !== undefined ? delay : 100
  );
}
function toggleStrict() {
	//newGame();
  isStrict = !isStrict;
  strict.style.transform =  isStrict ? "translateY(-132px) rotate(270deg)" : "translateY(0px)";
  strictIcon.innerHTML = isStrict ? 
  'Juego real <i class="fa-solid fa-eye"></i> '
  :
  message_practice;
}
function fade(buttonIndex, fadeSpeed) {
	contour_light.style.backgroundColor = "white";
  buttons[buttonIndex].style.opacity -= 0.1;
  if (buttons[buttonIndex].style.opacity > 0.2) {
    setTimeout(fade.bind(null, buttonIndex), fadeSpeed);
  }
}
function fadeIntro() {
  for (var button = 0; button < buttons.length; button++) {
    setTimeout(buttonGlow.bind(null, button), 400 * button);
  }
}
(function() {
  /*buttons_div.click();
  buttons_div.focus();
  newGame();
  setTimeout(() => newGame(), 3000);*/
  reset.onclick = newGame;
  form_send_btn.onclick = sendForm;
  //strict.onclick = toggleStrict;
  for (var i = 0; i < buttons.length; i++) {
    buttons[i].onmousedown = buttonClick;
  }
})();
</script>
      </div>
      <div id="w-node-_21744f53-7b1e-bc38-5ad9-c08ddf9e3095-6bc2f537" class="cal-vh w-embed w-script">
        <script>
// We listen to the resize event
window.addEventListener('resize', () => {
  // We execute the same script as before
  let vh = window.innerHeight * 0.01;
  document.documentElement.style.setProperty('--vh', `${vh}px`);
});
</script>
        <style>
.body {
  height: 100vh; /* Fallback for browsers that do not support Custom Properties */
  height: calc(var(--vh, 1vh) * 100);
}
</style>
      </div>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=62df2718544276fc1f29bbb0" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  <script>
  function validateEmail(input) {
    console.log(input);
    var validRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
    if (input.match(validRegex)) return true;
    else return false;
  }
  $("#form_send_btn").click(function(event) {
    event.preventDefault();
    $("#initial-popup").css( "display", "flex" );
    let valid_email = validateEmail($("#form_email_field").val());
    console.log("clicked #form_send_btn. valid_email is: ", valid_email);
    if (valid_email === true && form_name_field.value && form_email_field.value && form_phone_field.value) {
      $("#initial-popup").css( "display", "none" );
      let url_webhook = `https://hook.us1.make.com/2mu2znihpwndzw9ncf93vwuvhlhju5mn?did_play=0&discount=0&steps=0&email=${form_email_field.value}&name=${form_name_field.value}&phone=${form_phone_field.value}&onsite=${onSite}&fromhome=${fromHome}`;
      fetch(url_webhook)
        .then((response) => response.json())
        .then((data) => console.log(data));
    } else {
      if (valid_email === false) $(this).addClass('warning');
      $("#initial-popup input").each(function() {
        if (!this.value) {
          $(this).addClass('warning');
        }
      });
    }
  });
  $('#initial-popup input').blur(function() {
    if (!this.value) {
      $(this).addClass('warning');
    } else if ($(this).is("#form_email_field")) {
      if (!validateEmail(this.value)) {
        $(this).addClass('warning');
      } else $(this).removeClass('warning');
    } else $(this).removeClass('warning');
  });
</script>
</body>
</html>